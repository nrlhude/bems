
import { BrowserRouter as Router, Routes, Route } from "react-router-dom";
import { CssBaseline, ThemeProvider, useMediaQuery } from "@mui/material";
import { ColorModeContext, useMode } from "./theme";
import Topbar from "./scenes/global/Topbar";
import Sidebar from "./scenes/global/Sidebar";

// Side bars
import Dashboard from "./scenes/dashboard";
import Calendar from "./scenes/calendar";
import Teachers from "./scenes/teachers";
import Students from "./scenes/students";
import Parents from "./scenes/parents";
import Timetable from "./scenes/timetable";
import Attendance from "./scenes/attendance";
import RPH from "./scenes/rph";
import ClassReport from "./scenes/reportClass";
import StudentReport from "./scenes/reportStudent";
import Settings from "./scenes/settings";
import Faq from "./scenes/faq";
import TestUI from "./scenes/testUI";
import KelasEnrollment from "./scenes/kelasEnrol";

// Add
import CreateTest from "./components/Add/CreateTest";
import CreateSchoolSession from "./components/Add/AddSchoolSession";
import AddProgram from "./components/Add/AddProgram";
import AddClass from "./components/Add/AddClass";
import AddTunjangUtama from "./components/Add/AddTunjangUtama";
import AddSubTunjang from "./components/Add/AddSubTunjang";
import AddFokus from "./components/Add/AddFokus";
import AddStdKandungan from "./components/Add/AddStdKandungan";
import AddStdPembelajaran from "./components/Add/AddStdPembelajaran";
import AddPenerapanNilai from "./components/Add/AddPenerapanNilai";
import AddTeacher from "./components/Add/AddTeacher";
import AddKelasEnrol from "./components/Add/AddKelasEnrol";
import RegisterTeacher from "./components/Register/RegisterTeacher";
import RegisterStudent from "./components/Register/RegisterStudent";

// View
import ProfileStudent from "./components/View/ProfileStudent";
import ProfileTeacher from "./components/View/ProfileTeacher";
import ProfileParent from "./components/View/ProfileParent";
import ReportClass from "./components/View/ReportClass";
import ReportStudent from "./components/View/ReportStudent";
import RphDetails from "./components/View/RphDetail";
import ViewSchoolSession from "./components/View/SchoolSessionDetail";

// Update
import UpdateSchoolSession from "./components/Update/UpdateSchoolSession";
import UpdateProgram from "./components/Update/UpdateProgramme";
import UpdateClass from "./components/Update/UpdateClass";

// Settings
import SettingProgram from "./scenes/settings/program";
import SettingClasses from "./scenes/settings/classes";
import SettingTimetable from "./scenes/settings/timetable";
import SettingKspk from "./scenes/settings/kspk";
import SettingSchoolSessions from "./scenes/settings/school-sessions";
import Thin from "./scenes/settings/t";

// Register
import PrivateRoute from "./utils/PrivateRoute"
// import { AuthProvider } from './contexts/AuthContext'
import Login from "./components/Login";
import HomePage from "./components/HomePage";

function App() {
  const [theme, colorMode] = useMode();
  const isMobile = useMediaQuery(theme.breakpoints.down("sm")); // Check if screen size is mobile

  return (
    <ColorModeContext.Provider value={colorMode}>
      <ThemeProvider theme={theme}>
        <CssBaseline />
        {/* <AuthProvider> */}
          <div className="app">
            <Sidebar />
            
            <main className={`content ${isMobile ? "mobile" : ""}`}>
            <Topbar />
              <Routes>
                <PrivateRoute  path="/" element={<HomePage />} exact/>
                <Route path="/login" element={<Login />} />
                <Route path="/dashboard" element={<Dashboard />} /> 
                <Route path="/calendar" element={<Calendar />} />
                <Route path="/teachers" element={<Teachers />} />
                <Route path="/students" element={<Students />} />
                <Route path="/parents" element={<Parents />} />
                <Route path="/timetable" element={<Timetable />} />
                <Route path="/attendance" element={<Attendance />} />
                <Route path="/rph" element={<RPH />} />
                <Route path="/reportClass" element={<ClassReport />} />
                <Route path="/reportStudent" element={<StudentReport />} />
                <Route path="/settings" element={<Settings />} />
                <Route path="/faq" element={<Faq />} />
                <Route path="/testUI" element={<TestUI />} />
                <Route path="/kelasEnrollment" element={<KelasEnrollment />} />

                {/* Add */}
                <Route path="/create" element={<CreateTest />} />
                <Route path="/createschoolsession" element={<CreateSchoolSession />} />
                <Route path="/createprogram" element={<AddProgram />} />
                <Route path="/createclasses" element={<AddClass />} />
                <Route path="/createtunjangutama" element={<AddTunjangUtama />} />
                <Route path="/createsubtunjang" element={<AddSubTunjang />} />
                <Route path="/createfokus" element={<AddFokus />} />
                <Route path="/createstdkandungan" element={<AddStdKandungan />} />
                <Route path="/createstdpembelajaran" element={<AddStdPembelajaran />} />
                <Route path="/createpenerapannilai" element={<AddPenerapanNilai />} />
                <Route path="/createteacher" element={<AddTeacher />} />
                <Route path="/create-kelasenrol" element={<AddKelasEnrol />} />
                <Route path="/register-teacher" element={<RegisterTeacher />} />
                <Route path="/register-student" element={<RegisterStudent />} />

                {/* View */}
                <Route path="/viewprofilestudent" element={<ProfileStudent />} />
                <Route path="/viewprofileteacher/:teacherID" element={<ProfileTeacher />} />
                <Route path="/viewprofileparent" element={<ProfileParent />} />
                <Route path="/viewrph" element={<RphDetails />} />
                <Route path="/viewclassreport" element={<ReportClass />} />
                <Route path="/viewstudentreport" element={<ReportStudent />} />
                <Route path="/viewschoolsession/:schoolSessionID" element={<ViewSchoolSession />} />

                {/* Update */}
                <Route path="/updateschoolsession/:schoolSessionID" element={<UpdateSchoolSession />} />
                <Route path="/updateprogram/:programId" element={<UpdateProgram />} />
                <Route path="/updateclass/:classId" element={<UpdateClass />} />

                {/* Settings */}
                <Route path="/settings/programs" element={<SettingProgram />} />
                <Route path="/settings/classes" element={<SettingClasses />} />
                <Route path="/settings/timetable" element={<SettingTimetable />} />
                <Route path="/settings/kspk" element={<SettingKspk />} />
                <Route path="/settings/school-sessions" element={<SettingSchoolSessions />} />
                <Route path="/settings/thin" element={<Thin />} />
              </Routes>
            </main>
          </div>
        {/* </AuthProvider> */}
      </ThemeProvider>
    </ColorModeContext.Provider>
  );
}

export default App;
